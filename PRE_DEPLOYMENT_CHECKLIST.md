# ูุงุฆูุฉ ุงูุชุญูู ูุจู ุงููุดุฑ - ุงูุชุญุณููุงุช ุงูุฃูููุฉ

## โ๏ธ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ (Production)

### 1. Webhook Secret (ุฅูุฒุงูู)
```env
THAWANI_WEBHOOK_SECRET=your_webhook_secret_here
```
**ุงูุชุฃุซูุฑ**: ุจุฏูู ูุฐุง ุงููุชุบูุฑุ ุฌููุน webhooks ูู Thawani ุณุชูุฑูุถ ูู ุงูุฅูุชุงุฌ.

---

### 2. Frontend Origin / Allowed Origins (ุฅูุฒุงูู)
**ุฎูุงุฑ 1: ุงุณุชุฎุฏุงู FRONTEND_ORIGIN (ุฃุณูู)**
```env
FRONTEND_ORIGIN=https://yourdomain.com
```

**ุฎูุงุฑ 2: ุงุณุชุฎุฏุงู ALLOWED_RETURN_ORIGINS (ุฃูุซุฑ ูุฑููุฉ)**
```env
ALLOWED_RETURN_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://mobile.yourdomain.com
```
**ุงูุชุฃุซูุฑ**: ุจุฏูู ูุฐุง ุงููุชุบูุฑุ ุฃู ุทูุจ ูุน `return_origin` ุณููุฑูุถ ูู ุงูุฅูุชุงุฌ.

---

### 3. APP_URL (ุฅูุฒุงูู)
```env
APP_URL=https://api.yourdomain.com
```
**ุงูุชุฃุซูุฑ**: ุจุฏูู ูุฐุง ุงููุชุบูุฑุ URLs ุฅุนุงุฏุฉ ุงูุชูุฌูู ูุฏ ุชููู ุฎุงุทุฆุฉ.

---

## โ ูุญูุตุงุช ูุง ูุจู ุงููุดุฑ

### 1. ุงุฎุชุจุงุฑ Webhook
- [ ] ุชุฃูุฏ ูู ุฅุนุฏุงุฏ `THAWANI_WEBHOOK_SECRET` ูู ุงูุฅูุชุงุฌ
- [ ] ุงุฎุชุจุฑ webhook ูู Thawani ููุชุฃูุฏ ูู ูุจูููุง
- [ ] ุชุญูู ูู ุงูุณุฌูุงุช ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก signature

### 2. ุงุฎุชุจุงุฑ return_origin
- [ ] ุชุฃูุฏ ูู ุฅุนุฏุงุฏ `FRONTEND_ORIGIN` ุฃู `ALLOWED_RETURN_ORIGINS`
- [ ] ุงุฎุชุจุฑ ุฅูุดุงุก ุฌูุณุฉ ุฏูุน ูุน `return_origin`
- [ ] ุชุญูู ูู ุฑูุถ `return_origin` ุบูุฑ ุงููุณููุญ

### 3. ุงุฎุชุจุงุฑ APP_URL
- [ ] ุชุฃูุฏ ูู ุฅุนุฏุงุฏ `APP_URL` ุจุดูู ุตุญูุญ
- [ ] ุงุฎุชุจุฑ ุฑูุงุจุท ุฅุนุงุฏุฉ ุงูุชูุฌูู ุจุนุฏ ุงูุฏูุน
- [ ] ุชุญูู ูู ุนูู `mobile/success` endpoint

### 4. ุงุฎุชุจุงุฑ Rate Limiting
- [ ] ุชุฃูุฏ ูู ุฃู ุงูุญุฏูุฏ ููุงุณุจุฉ ูุงุณุชุฎุฏุงูู
- [ ] ุฑุงูุจ ุงูุณุฌูุงุช ูุฃู ุทูุจุงุช ูุฑููุถุฉ ุจุณุจุจ Rate Limit

### 5. ุงุฎุชุจุงุฑ Performance
- [ ] ุฑุงูุจ ููุช ุงูุงุณุชุฌุงุจุฉ ุจุนุฏ ุฅุถุงูุฉ `lockForUpdate()`
- [ ] ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุชุฃุฎูุฑุงุช ูุจูุฑุฉ ูู ูุนุงูุฌุฉ ุงูุฏูุนุงุช

---

## ๐ ููุงุท ุงููุฑุงูุจุฉ ุจุนุฏ ุงููุดุฑ

1. **Webhook Errors**: ุฑุงูุจ ุงูุณุฌูุงุช ูุฃู ุฃุฎุทุงุก webhook signature
2. **return_origin Rejections**: ุฑุงูุจ ุฑูุถ `return_origin` ุบูุฑ ุงููุณููุญ
3. **Rate Limit Hits**: ุฑุงูุจ ุชุฌุงูุฒ ุญุฏูุฏ Rate Limiting
4. **Payment Processing Time**: ุฑุงูุจ ููุช ูุนุงูุฌุฉ ุงูุฏูุนุงุช

---

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

- ูู ุจูุฆุฉ **ุงูุชุทููุฑ**: ูู ุดูุก ูุนูู ุจุฏูู ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ
- ูู ุจูุฆุฉ **ุงูุฅูุชุงุฌ**: ูุฌุจ ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุซูุงุซุฉ ุฃุนูุงู
- **ุงูุชุญุณููุงุช ูุง ุชูุณุฑ ุงููุธุงุฆู** ููููุง ุชุถูู ูุชุทูุจุงุช ุฅุนุฏุงุฏ ูู ุงูุฅูุชุงุฌ

